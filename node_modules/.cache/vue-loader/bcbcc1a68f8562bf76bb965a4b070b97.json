{"remainingRequest":"/home/aakasht/Documents/crud-poc/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aakasht/Documents/crud-poc/src/components/AddStudent.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aakasht/Documents/crud-poc/src/components/AddStudent.vue","mtime":1624460522510},{"path":"/home/aakasht/Documents/crud-poc/node_modules/cache-loader/dist/cjs.js","mtime":1624286152630},{"path":"/home/aakasht/Documents/crud-poc/node_modules/babel-loader/lib/index.js","mtime":1623932329042},{"path":"/home/aakasht/Documents/crud-poc/node_modules/ts-loader/index.js","mtime":1624287752986},{"path":"/home/aakasht/Documents/crud-poc/node_modules/cache-loader/dist/cjs.js","mtime":1624286152630},{"path":"/home/aakasht/Documents/crud-poc/node_modules/vue-loader/lib/index.js","mtime":1623932357712}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IFN0dWRlbnREYXRhU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL0RhdGFTZXJ2aWNlIjsKaW1wb3J0IFN0dWRlbnQgZnJvbSAiQC90eXBlcy9TdHVkZW50IjsKCkBDb21wb25lbnQKZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWRkU3R1ZGVudCBleHRlbmRzIFZ1ZSB7CiAgcHJpdmF0ZSBmb3JtOiBTdHVkZW50ID0gewogICAgaWQ6IDAsCiAgICBmaXJzdF9uYW1lOiAiIiwKICAgIGxhc3RfbmFtZTogIiIsCiAgICBlbWFpbElkOiAiIiwKICAgIHBob25lX251bWJlcjogIiIsCiAgICB5ZWFyX29mX3Bhc3Npbmc6ICIiLAogIH07CgogIHByaXZhdGUgZXJyb3JzOiBBcnJheTxzdHJpbmc+ID0gW107CgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgZmlyc3RfbmFtZTogIiIsCiAgICAgICAgbGFzdF9uYW1lOiAiIiwKICAgICAgICBlbWFpbElkOiAiIiwKICAgICAgICBwaG9uZV9udW1iZXI6ICIiLAogICAgICAgIHllYXJfb2ZfcGFzc2luZzogIiIsCiAgICAgIH0sCiAgICAgIGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgIHRpdGxlOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPyAiVXBkYXRlIFN0dWRlbnQiIDogIkFkZCBTdHVkZW50IiwKICAgICAgZXJyb3JzOiBbXSwKICAgIH07CiAgfQoKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICBTdHVkZW50RGF0YVNlcnZpY2UuZ2V0KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbigoZGF0YSkgPT4gewogICAgICAgIHRoaXMuZm9ybSA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfQoKICBvblN1Ym1pdChldmVudDogeyBwcmV2ZW50RGVmYXVsdDogKCkgPT4gdm9pZCB9KSB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgdGhpcy5lcnJvcnMgPSBbXTsKCiAgICBpZiAoIXRoaXMuZm9ybS5maXJzdF9uYW1lKSB7CiAgICAgIHRoaXMuZXJyb3JzLnB1c2goIkZpcnN0IE5hbWUgcmVxdWlyZWQuIik7CiAgICB9IGVsc2UgaWYgKCF0aGlzLmZvcm0ubGFzdF9uYW1lKSB7CiAgICAgIHRoaXMuZXJyb3JzLnB1c2goIkxhc3QgTmFtZSByZXF1aXJlZC4iKTsKICAgIH0gZWxzZSBpZiAoIXRoaXMuZm9ybS5lbWFpbElkKSB7CiAgICAgIHRoaXMuZXJyb3JzLnB1c2goIkVtYWlsIHJlcXVpcmVkLiIpOwogICAgfSBlbHNlIGlmICghdGhpcy52YWxpZEVtYWlsKHRoaXMuZm9ybS5lbWFpbElkKSkgewogICAgICB0aGlzLmVycm9ycy5wdXNoKCJWYWxpZCBlbWFpbCByZXF1aXJlZC4iKTsKICAgIH0gZWxzZSBpZiAoIXRoaXMuZm9ybS5waG9uZV9udW1iZXIpIHsKICAgICAgdGhpcy5lcnJvcnMucHVzaCgiUGhvbmUgTnVtYmVyIHJlcXVpcmVkLiIpOwogICAgfSBlbHNlIGlmICghdGhpcy52YWxpZE51bWJlcih0aGlzLmZvcm0ucGhvbmVfbnVtYmVyKSkgewogICAgICB0aGlzLmVycm9ycy5wdXNoKCJWYWxpZCBQaG9uZSBOdW1iZXIgcmVxdWlyZWQuIik7CiAgICB9IGVsc2UgaWYgKCF0aGlzLmZvcm0ueWVhcl9vZl9wYXNzaW5nKSB7CiAgICAgIHRoaXMuZXJyb3JzLnB1c2goIlllYXIgb2YgcGFzc2luZyByZXF1aXJlZC4iKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBkYXRlU3R1ZGVudCIsIHRoaXMuZm9ybSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImNyZWF0ZVN0dWRlbnQiLCB0aGlzLmZvcm0pOwogICAgICB9CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICB9CiAgfQogIG9uUmVzZXQoZXZlbnQ6IHsgcHJldmVudERlZmF1bHQ6ICgpID0+IHZvaWQgfSkgewogICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIC8vIFJlc2V0IG91ciBmb3JtIHZhbHVlcwogICAgdGhpcy5lcnJvcnMgPSBbXTsKICAgIHRoaXMuZm9ybS5maXJzdF9uYW1lID0gIiI7CiAgICB0aGlzLmZvcm0ubGFzdF9uYW1lID0gIiI7CiAgICB0aGlzLmZvcm0uZW1haWxJZCA9ICIiOwogICAgdGhpcy5mb3JtLnBob25lX251bWJlciA9ICIiOwogICAgdGhpcy5mb3JtLnllYXJfb2ZfcGFzc2luZyA9ICIiOwogIH0KICB2YWxpZEVtYWlsKGVtYWlsOiBzdHJpbmcpIHsKICAgIHZhciByZWdleCA9CiAgICAgIC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICByZXR1cm4gcmVnZXgudGVzdChlbWFpbCk7CiAgfQogIHZhbGlkTnVtYmVyKHBob25lX251bWJlcjogc3RyaW5nKSB7CiAgICB2YXIgcmVnZXggPSAvXihcK1xkezEsMn1ccyk/XCg/XGR7M31cKT9bXHMuLV1cZHszfVtccy4tXVxkezR9JC87CiAgICByZXR1cm4gcmVnZXgudGVzdChwaG9uZV9udW1iZXIpOwogIH0KfQo="},{"version":3,"sources":["AddStudent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddStudent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"divclass\">\n    <b-form @submit=\"onSubmit\" @reset=\"onReset\" novalidate=\"true\">\n      <b-card :title=\"title\">\n        <b-card-text>\n          <b-list-group v-if=\"errors.length\">\n            <b-list-group-item\n              variant=\"danger\"\n              v-for=\"error in errors\"\n              v-bind:key=\"error\"\n              style=\"color: red\"\n              >{{ error }}</b-list-group-item\n            >\n          </b-list-group>\n          <b-form-group\n            id=\"input-group-1\"\n            label=\"First Name:\"\n            label-for=\"input-1\"\n          >\n            <b-form-input\n              id=\"input-1\"\n              v-model=\"form.first_name\"\n              type=\"text\"\n              placeholder=\"Enter First Name\"\n              name=\"first_name\"\n              required\n            ></b-form-input>\n          </b-form-group>\n\n          <b-form-group\n            id=\"input-group-2\"\n            label=\"Last Name:\"\n            label-for=\"input-2\"\n          >\n            <b-form-input\n              id=\"input-2\"\n              v-model=\"form.last_name\"\n              type=\"text\"\n              placeholder=\"Enter Last Name\"\n              name=\"last_name\"\n              required\n            ></b-form-input>\n          </b-form-group>\n\n          <b-form-group id=\"input-group-3\" label=\"Email:\" label-for=\"input-3\">\n            <b-form-input\n              id=\"input-3\"\n              v-model=\"form.emailId\"\n              type=\"email\"\n              placeholder=\"Enter Email\"\n              name=\"emailId\"\n              required\n            ></b-form-input>\n          </b-form-group>\n\n          <b-form-group\n            id=\"input-group-4\"\n            label=\"Phone Number:\"\n            label-for=\"input-4\"\n          >\n            <b-form-input\n              id=\"input-4\"\n              v-model=\"form.phone_number\"\n              type=\"tel\"\n              name=\"phone_number\"\n              placeholder=\"942-315-3356\"\n              pattern=\"[0-9]{3}-[0-9]{3}-[0-9]{4}\"\n              required\n            ></b-form-input>\n          </b-form-group>\n\n          <b-form-group\n            id=\"input-group-5\"\n            label=\"Year of Passing:\"\n            label-for=\"input-5\"\n          >\n            <b-form-input\n              id=\"input-5\"\n              v-model=\"form.year_of_passing\"\n              type=\"number\"\n              placeholder=\"Enter Year of Passing\"\n              name=\"year_of_passing\"\n              required\n            ></b-form-input>\n          </b-form-group>\n        </b-card-text>\n\n        <b-button type=\"submit\" style=\"margin: 5px\" variant=\"outline-success\">\n          <b-icon icon=\"file-earmark\" aria-hidden=\"true\"></b-icon>\n          {{ id ? \"Update\" : \"Submit\" }}</b-button\n        >\n        <b-button type=\"reset\" style=\"margin: 5px\" variant=\"outline-danger\">\n          <b-icon icon=\"x-circle\" aria-hidden=\"true\"></b-icon> Reset</b-button\n        >\n        <b-button\n          style=\"margin: 5px\"\n          variant=\"outline-info\"\n          class=\"mb-2\"\n          @click=\"$router.push('/')\"\n        >\n          <b-icon icon=\"box-arrow-left\" aria-hidden=\"true\"></b-icon> Back\n        </b-button>\n      </b-card>\n    </b-form>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport StudentDataService from \"@/services/DataService\";\nimport Student from \"@/types/Student\";\n\n@Component\nexport default class AddStudent extends Vue {\n  private form: Student = {\n    id: 0,\n    first_name: \"\",\n    last_name: \"\",\n    emailId: \"\",\n    phone_number: \"\",\n    year_of_passing: \"\",\n  };\n\n  private errors: Array<string> = [];\n\n  data() {\n    return {\n      form: {\n        first_name: \"\",\n        last_name: \"\",\n        emailId: \"\",\n        phone_number: \"\",\n        year_of_passing: \"\",\n      },\n      id: this.$route.params.id,\n      title: this.$route.params.id ? \"Update Student\" : \"Add Student\",\n      errors: [],\n    };\n  }\n\n  created() {\n    if (this.$route.params.id) {\n      StudentDataService.get(this.$route.params.id).then((data) => {\n        this.form = data.data;\n      });\n    }\n  }\n\n  onSubmit(event: { preventDefault: () => void }) {\n    event.preventDefault();\n    this.errors = [];\n\n    if (!this.form.first_name) {\n      this.errors.push(\"First Name required.\");\n    } else if (!this.form.last_name) {\n      this.errors.push(\"Last Name required.\");\n    } else if (!this.form.emailId) {\n      this.errors.push(\"Email required.\");\n    } else if (!this.validEmail(this.form.emailId)) {\n      this.errors.push(\"Valid email required.\");\n    } else if (!this.form.phone_number) {\n      this.errors.push(\"Phone Number required.\");\n    } else if (!this.validNumber(this.form.phone_number)) {\n      this.errors.push(\"Valid Phone Number required.\");\n    } else if (!this.form.year_of_passing) {\n      this.errors.push(\"Year of passing required.\");\n    } else {\n      if (this.$route.params.id) {\n        this.$store.dispatch(\"updateStudent\", this.form);\n      } else {\n        this.$store.dispatch(\"createStudent\", this.form);\n      }\n      this.$router.push(\"/\");\n    }\n  }\n  onReset(event: { preventDefault: () => void }) {\n    event.preventDefault();\n    // Reset our form values\n    this.errors = [];\n    this.form.first_name = \"\";\n    this.form.last_name = \"\";\n    this.form.emailId = \"\";\n    this.form.phone_number = \"\";\n    this.form.year_of_passing = \"\";\n  }\n  validEmail(email: string) {\n    var regex =\n      /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return regex.test(email);\n  }\n  validNumber(phone_number: string) {\n    var regex = /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]\\d{3}[\\s.-]\\d{4}$/;\n    return regex.test(phone_number);\n  }\n}\n</script>\n\n\n<style>\n.divclass {\n  position: absolute;\n  top: 20%;\n  left: 32%;\n  width: 40%;\n}\n</style>"]}]}